{% load static i18n %}
{% block maker_detail_modals %}
{% url 'parts:maker_add' as add_url %}
<div id="modal_full_for_makerTypes" class="modal fade">
    <div class="modal-dialog modal-full">
        <div class="modal-content">
            <div class="card-header pb-0">
                <div class="media flex-md-row mb-2">
                    <a id="iconBuild" class="align-self-md-start mr-3">
                        <img src="{% static 'images/icons/tools.svg' %}" class="rounded" width="44" height="44" alt="">
                    </a>
                    <div class="media-body">
                        <h5 class="media-title font-weight-semibold">{% trans 'Maker Types' %}</h5>
                        <ul class="list-inline list-inline-dotted text-muted mb-0">
                            <li class="list-inline-item"><u>Maker types</u> of this maker.</li>
                        </ul>
                    </div>
                    {% block buttonaddForTable %}
                        {% include "components/buttonaddForTable.html" with add_url=add_url|add:"?next="|add:request.path %}
                    {% endblock %}
                </div>
            </div>

            <div class="card-body">
                <div class="table-responsive">
                    <table class="table table-bordered table-striped dataTable">
                        <colgroup>
                            <col>
                            <col>
                            <col>
                            <col style="min-width : 15%">
                        </colgroup>
                        <thead>
                            <tr>
                                <th>{% trans 'Name' %}</th>
                                <th>{% trans 'Category' %}</th>
                                <th>{% trans 'Type' %}</th>
                                <th>{% trans 'Documents' %}</th>
                                <th class="dataTableAction">{% trans 'Actions' %}</th>
                            </tr>
                        </thead>
                        <tbody id="tbody">
                            {% for type in maker.maker_types.all %}
                            <tr id="{{contact.id}}">
                                <td>{{type.name}} </td>
                                <td>
                                    <select class="form-control select">
                                        {% for category in type.category.all %}
                                        <option value="{{ document.file.url }}">
                                            {{category.name}}
                                        </option>
                                        {% endfor %}
                                    </select>
                                </td>
                                <td>{{type.type}}</td>
                                <td>
                                    <select class="form-control select makerTypesDocuments">
                                        <option value="">-</option>
                                        {% for document in type.documents.all %}
                                        <option value="{{ document.file.url }}">{{ document.get_filename }}</option>
                                        {% endfor %}
                                    </select>
                                </td>
                                <td class="p-0">
                                    <div class="rowActions">
                                        <a href="{% url 'parts:maker_type_delete' type.id %}?next={{ request.path }}"
                                            class="button-remove-row">
                                            <img src="{% static 'images/icons/cancel.svg' %}">
                                        </a>
                                    </div>
                                </td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- /Modal maker yypes table -->
<!-- Modal for docs. -->
<div id="modal_documents" class="modal fade" aria-modal="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="card-header pb-0">
                <div class="media flex-md-row mb-2">
                    <a id="iconBuild" class="align-self-md-start mr-3">
                        <img src="{% static 'images/icons/file.svg' %}" class="rounded" width="44" height="44" alt="">
                    </a>
                    <div class="media-body">
                        <h5 class="media-title font-weight-semibold">{% trans 'Document List' %}</h5>
                        <ul class="list-inline list-inline-dotted text-muted mb-0">
                            <li class="list-inline-item"><u>Document list</u> of this maker.</li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="modal-body">
                <div class="table-responsive">
                    <table class="table table-bordered table-striped dataTable">
                        <thead>
                            <tr>
                                <th>{% trans 'Document Name' %}</th>
                                <th class="dataTableAction">{% trans 'Actions' %}</th>
                            </tr>
                        </thead>
                        <tbody id="tbody">
                            {% for document in maker.documents.all %}
                            <tr>
                                <td>
                                    <a target="_blank" href="{{ document.file.url }}">
                                        {{ document.get_filename }}
                                    </a>
                                </td>
                                <td class="p-0">
                                    <div class="rowActions">
                                        <a href="{% url 'parts:maker_document_delete' document.id %}?next={{ request.path }}"
                                            class="button-remove-row">
                                            <img src="{% static 'images/icons/cancel.svg' %}">
                                        </a>
                                    </div>
                                </td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
                <!-- <div class="form-group col-lg-12">
                    <form action="#" class="dropzone" id="dropzone_multiple"></form>
                    <span class="form-text text-muted">Upload your documents for this maker.</span>
                </div> -->
                </form>
            </div>
        </div>
    </div>
</div>
<!-- /modal -->
<!-- Modal add maker type for table -->
<div id="modal_default" class="modal fade" aria-modal="true">
    <div class="modal-dialog modal-md">
        <div class="modal-content">
            <div class="modal-header">
                <h1 id="quotationNumber" class="text-center">Add Maker Type</h1>
                <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>
            <div class="modal-body">
                <form id="form" method="POST" enctype="multipart/form-data">
                    {% csrf_token %}
                    <div class="row">
                        {% for field in maker_type_add_from %}
                        <div class="form-group col-lg-12">
                            <label>{{field.label}}</label>
                            {{ field }}
                            {{ field.errors }}
                        </div>
                        {% endfor %}
                        <div class="form-group col-lg-12">
                            <input type="file" class="upload" name="document" multiple="multiple"
                                ata-show-remove="false" data-show-upload="false" data-fouc>
                            <span class="form-text text-muted">Upload your documents for this maker type.</span>
                        </div>
                    </div>
                    <fieldset class="card-footer border-top w-100 text-right">
                        <button id="formSubmit" type="submit" class="btn btn-primary btn-block">
                            {% trans 'Add' %}</button>
                    </fieldset>
                </form>
            </div>
        </div>
    </div>
</div>
<!-- /modal -->
{% endblock %}
<!-- Modal Maker Types table -->