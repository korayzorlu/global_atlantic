# Generated by Django 5.0.4 on 2025-08-18 20:54

import django.db.models.deletion
import django.utils.timezone
import purchasing.models
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ('card', '0001_initial'),
        ('data', '0001_initial'),
        ('source', '0001_initial'),
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='Project',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('sessionKey', models.CharField(blank=True, max_length=140, null=True, verbose_name='Session Key')),
                ('identificationCode', models.CharField(blank=True, default='', max_length=140, null=True, verbose_name='Identification Code')),
                ('yearCode', models.CharField(blank=True, max_length=140, null=True, verbose_name='Project Year')),
                ('code', models.CharField(blank=True, max_length=140, null=True, verbose_name='Project Code')),
                ('projectNo', models.CharField(blank=True, db_index=True, max_length=140, null=True, verbose_name='Project No')),
                ('stage', models.CharField(blank=True, choices=[('project', 'Project'), ('inquiry', 'Inquiry'), ('purchase_order', 'Purchase Order'), ('invoiced', 'Invoiced'), ('warehouse', 'Warehouse')], default='project', max_length=40, null=True, verbose_name='Stage')),
                ('invoiced', models.BooleanField(default=False, verbose_name='Invoiced')),
                ('supplierRef', models.CharField(blank=True, max_length=140, null=True, verbose_name='Supplier Ref')),
                ('customerRef', models.CharField(blank=True, max_length=140, null=True, verbose_name='Customer Ref')),
                ('projectDate', models.DateField(blank=True, default=django.utils.timezone.now, verbose_name='Project Date')),
                ('created_date', models.DateTimeField(auto_now_add=True, null=True)),
                ('updated_date', models.DateTimeField(auto_now=True, null=True)),
                ('sourceCompany', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='purchasing_project_source_company', to='source.company')),
                ('supplier', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.DO_NOTHING, to='card.company')),
                ('user', models.ForeignKey(blank=True, null=True, on_delete=models.SET(purchasing.models.get_sentinel_user), related_name='project_user', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'ordering': ['projectDate'],
            },
        ),
        migrations.CreateModel(
            name='Inquiry',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('sessionKey', models.CharField(blank=True, max_length=140, null=True, verbose_name='Session Key')),
                ('identificationCode', models.CharField(blank=True, default='', max_length=140, null=True, verbose_name='Identification Code')),
                ('yearCode', models.CharField(blank=True, max_length=140, null=True, verbose_name='Inquiry Year')),
                ('code', models.CharField(blank=True, max_length=140, null=True, verbose_name='Inquiry Code')),
                ('inquiryNo', models.CharField(blank=True, db_index=True, max_length=140, null=True, verbose_name='Inquiry No')),
                ('approval', models.CharField(blank=True, choices=[('notSent', 'Not Sent For Approval'), ('sent', 'Sent For Approval'), ('approved', 'Approved By Manager'), ('notApproved', 'Not Approved By Manager')], default='notSent', max_length=30, null=True)),
                ('supplierRef', models.CharField(blank=True, max_length=140, null=True, verbose_name='Supplier Ref')),
                ('payment', models.CharField(blank=True, max_length=140, null=True, verbose_name='Payment')),
                ('note', models.TextField(blank=True, max_length=500, null=True, verbose_name='Note')),
                ('totalTotalPrice', models.FloatField(blank=True, default=0, null=True, verbose_name='Total Total Prince')),
                ('inquiryDate', models.DateField(blank=True, default=django.utils.timezone.now, verbose_name='Inquiry Date')),
                ('created_date', models.DateTimeField(auto_now_add=True, null=True)),
                ('updated_date', models.DateTimeField(auto_now=True, null=True)),
                ('currency', models.ForeignKey(blank=True, default=106, null=True, on_delete=django.db.models.deletion.SET_DEFAULT, related_name='inquiry_item_currency', to='card.currency')),
                ('person', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='purchasing_inquiry_uperson', to='card.person')),
                ('sourceCompany', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='purchasing_inquiry_source_company', to='source.company')),
                ('supplier', models.ForeignKey(on_delete=django.db.models.deletion.DO_NOTHING, related_name='purchasing_inquiry_supplier', to='card.company')),
                ('user', models.ForeignKey(blank=True, null=True, on_delete=models.SET(purchasing.models.get_sentinel_user), related_name='purchasing_inquiry_user', to=settings.AUTH_USER_MODEL)),
                ('project', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='purhasing_inquiry_project', to='purchasing.project')),
            ],
            options={
                'ordering': ['inquiryDate'],
            },
        ),
        migrations.CreateModel(
            name='ProjectItem',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('sessionKey', models.CharField(blank=True, max_length=140, null=True, verbose_name='Session Key')),
                ('trDescription', models.TextField(blank=True, max_length=250, null=True, verbose_name='Turkish Description')),
                ('name', models.CharField(blank=True, max_length=140, null=True, verbose_name='Name')),
                ('description', models.TextField(blank=True, max_length=500, null=True, verbose_name='Description')),
                ('unit', models.CharField(choices=[('day', 'Day'), ('hrs', 'HRS'), ('kg', 'Kg'), ('m²', 'm²'), ('mm', 'MM'), ('pc', 'Pc'), ('pcs', 'PCS'), ('pk', 'PK'), ('persons', 'Persons')], default='pc', max_length=40, verbose_name='Units')),
                ('quantity', models.FloatField(default=1)),
                ('sequency', models.IntegerField(blank=True, default=1, null=True, verbose_name='Sequency')),
                ('unitPrice', models.FloatField(blank=True, default=0, null=True, verbose_name='Unit Price')),
                ('totalPrice', models.FloatField(blank=True, default=0, null=True, verbose_name='Total Price')),
                ('vat', models.FloatField(blank=True, default=0, null=True, verbose_name='Vat')),
                ('vatPrice', models.FloatField(blank=True, default=0, null=True, verbose_name='Vat Price')),
                ('startDate', models.DateField(blank=True, default=django.utils.timezone.now, null=True, verbose_name='Send Invoice Date')),
                ('endDate', models.DateField(blank=True, default=django.utils.timezone.now, null=True, verbose_name='Payment Date')),
                ('created_date', models.DateTimeField(auto_now_add=True, null=True)),
                ('updated_date', models.DateTimeField(auto_now=True, null=True)),
                ('expense', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='project_expense', to='data.expense')),
                ('part', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='project_part', to='data.part')),
                ('project', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to='purchasing.project')),
                ('serviceCard', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='project_service_card', to='data.servicecard')),
                ('sourceCompany', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='project_item_source_company', to='source.company')),
                ('user', models.ForeignKey(blank=True, null=True, on_delete=models.SET(purchasing.models.get_sentinel_user), to=settings.AUTH_USER_MODEL)),
            ],
        ),
        migrations.CreateModel(
            name='InquiryItem',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('sessionKey', models.CharField(blank=True, max_length=140, null=True, verbose_name='Session Key')),
                ('availabilityType', models.CharField(blank=True, choices=[('day', 'Day'), ('week', 'Week'), ('tba', 'TBA'), ('ex_stock', 'Ex Stock'), ('ex_stock_istanbul', 'Ex Stock Istanbul')], default='day', max_length=30, null=True)),
                ('availability', models.IntegerField(blank=True, default=0, null=True, verbose_name='Availability')),
                ('quantity', models.FloatField(default=1)),
                ('name', models.CharField(blank=True, max_length=140, null=True, verbose_name='Name')),
                ('description', models.TextField(blank=True, max_length=500, null=True, verbose_name='Description')),
                ('unit', models.CharField(choices=[('day', 'Day'), ('hrs', 'HRS'), ('kg', 'Kg'), ('m²', 'm²'), ('mm', 'MM'), ('pc', 'Pc'), ('pcs', 'PCS'), ('pk', 'PK'), ('persons', 'Persons')], default='pc', max_length=40, verbose_name='Units')),
                ('sequency', models.IntegerField(blank=True, default=1, null=True, verbose_name='Sequency')),
                ('unitPrice', models.FloatField(blank=True, default=0, null=True, verbose_name='Unit Prince')),
                ('totalPrice', models.FloatField(blank=True, default=0, null=True, verbose_name='Total Prince')),
                ('note', models.TextField(blank=True, max_length=1000, null=True, verbose_name='Note')),
                ('remark', models.TextField(blank=True, max_length=1000, null=True, verbose_name='Remark')),
                ('inquiry', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to='purchasing.inquiry')),
                ('sourceCompany', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='inquiry_item_source_company', to='source.company')),
                ('user', models.ForeignKey(blank=True, null=True, on_delete=models.SET(purchasing.models.get_sentinel_user), to=settings.AUTH_USER_MODEL)),
                ('projectItem', models.ForeignKey(blank=True, on_delete=django.db.models.deletion.CASCADE, related_name='inquiry_item_item', to='purchasing.projectitem')),
            ],
        ),
        migrations.CreateModel(
            name='PurchaseOrder',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('sessionKey', models.CharField(blank=True, max_length=140, null=True, verbose_name='Session Key')),
                ('identificationCode', models.CharField(blank=True, default='', max_length=140, null=True, verbose_name='Identification Code')),
                ('yearCode', models.CharField(blank=True, max_length=140, null=True, verbose_name='Purchase Order Year')),
                ('code', models.CharField(blank=True, max_length=140, null=True, verbose_name='Purchase Order Code')),
                ('purchaseOrderNo', models.CharField(blank=True, db_index=True, max_length=140, null=True, verbose_name='Purchase Order No')),
                ('payment', models.CharField(blank=True, max_length=30, null=True)),
                ('delivery', models.CharField(blank=True, max_length=140, null=True, verbose_name='Delivery')),
                ('customsDuty', models.FloatField(blank=True, default=0, null=True, verbose_name='Customs Duty')),
                ('additionalCustomsDuty', models.FloatField(blank=True, default=0, null=True, verbose_name='Additional Customs Duty')),
                ('stampDuty', models.FloatField(blank=True, default=0, null=True, verbose_name='Stamp Duty')),
                ('discount', models.FloatField(blank=True, default=0, null=True, verbose_name='Discount')),
                ('discountAmount', models.FloatField(blank=True, default=0, null=True, verbose_name='Discount Amount')),
                ('totalDiscountPrice', models.FloatField(blank=True, default=0, null=True, verbose_name='Total Discount Prince')),
                ('totalTotalPrice', models.FloatField(blank=True, default=0, null=True, verbose_name='Total Prince')),
                ('rate', models.CharField(blank=True, max_length=140, null=True, verbose_name='Rate')),
                ('invoiced', models.BooleanField(default=False, verbose_name='Invoiced')),
                ('incomingInvoiced', models.BooleanField(default=False, verbose_name='Incoming Invoiced')),
                ('orderDueDate', models.DateField(blank=True, default=django.utils.timezone.now, verbose_name='Order Due Date')),
                ('purchaseOrderDate', models.DateField(blank=True, default=django.utils.timezone.now, verbose_name='Purchase Order Date')),
                ('note', models.TextField(blank=True, max_length=500, null=True, verbose_name='Note')),
                ('created_date', models.DateTimeField(auto_now_add=True, null=True)),
                ('updated_date', models.DateTimeField(auto_now=True, null=True)),
                ('currency', models.ForeignKey(blank=True, default=106, null=True, on_delete=django.db.models.deletion.SET_DEFAULT, related_name='purchasing_purchase_order_currency', to='card.currency')),
                ('inquiry', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='purchasing_purchase_order_inquiry', to='purchasing.inquiry')),
                ('project', models.ForeignKey(blank=True, on_delete=django.db.models.deletion.CASCADE, related_name='purchasing_purchase_order', to='purchasing.project')),
                ('sourceCompany', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='purchasing_purchase_order_source_company', to='source.company')),
                ('user', models.ForeignKey(blank=True, null=True, on_delete=models.SET(purchasing.models.get_sentinel_user), related_name='purchasing_purchase_order_user', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'ordering': ['purchaseOrderDate'],
            },
        ),
        migrations.CreateModel(
            name='PurchaseOrderDocument',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('sessionKey', models.CharField(blank=True, max_length=140, null=True, verbose_name='Session Key')),
                ('file', models.FileField(blank=True, null=True, upload_to=purchasing.models.purchase_order_document_directory_path, verbose_name='File')),
                ('name', models.CharField(blank=True, max_length=140, null=True, verbose_name='File Name')),
                ('created_date', models.DateTimeField(auto_now_add=True, null=True)),
                ('updated_date', models.DateTimeField(auto_now=True, null=True)),
                ('purchaseOrder', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to='purchasing.purchaseorder')),
                ('sourceCompany', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='purchase_order_document_source_company', to='source.company')),
                ('user', models.ForeignKey(blank=True, null=True, on_delete=models.SET(purchasing.models.get_sentinel_user), to=settings.AUTH_USER_MODEL)),
            ],
        ),
        migrations.CreateModel(
            name='PurchaseOrderItem',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('sessionKey', models.CharField(blank=True, max_length=140, null=True, verbose_name='Session Key')),
                ('name', models.CharField(blank=True, max_length=140, null=True, verbose_name='Name')),
                ('description', models.TextField(blank=True, max_length=500, null=True, verbose_name='Description')),
                ('unit', models.CharField(choices=[('day', 'Day'), ('hrs', 'HRS'), ('kg', 'Kg'), ('m²', 'm²'), ('mm', 'MM'), ('pc', 'Pc'), ('pcs', 'PCS'), ('pk', 'PK'), ('persons', 'Persons')], default='pc', max_length=40, verbose_name='Units')),
                ('availabilityType', models.CharField(blank=True, choices=[('day', 'Day'), ('week', 'Week'), ('tba', 'TBA'), ('ex_stock', 'Ex Stock'), ('ex_stock_istanbul', 'Ex Stock Istanbul')], default='day', max_length=30, null=True)),
                ('availability', models.IntegerField(blank=True, null=True, verbose_name='Availability')),
                ('quality', models.CharField(blank=True, choices=[('bosch', 'Bosch'), ('daros', 'Daros'), ('duap', 'Duap')], max_length=30, null=True)),
                ('orderType', models.CharField(blank=True, choices=[('stock_order', 'Stock Order'), ('customer_order', 'Customer Order')], max_length=30, null=True)),
                ('quantity', models.FloatField(blank=True, default=1, null=True, verbose_name='Quantity')),
                ('sequency', models.IntegerField(blank=True, default=1, null=True, verbose_name='Sequency')),
                ('unitPrice', models.FloatField(blank=True, default=0, null=True, verbose_name='Unit Prince')),
                ('totalPrice', models.FloatField(blank=True, default=0, null=True, verbose_name='Total Prince')),
                ('note', models.TextField(blank=True, max_length=1000, null=True, verbose_name='Note')),
                ('remark', models.TextField(blank=True, max_length=1000, null=True, verbose_name='Remark')),
                ('placedItems', models.FloatField(blank=True, default=0, null=True, verbose_name='Placed Items')),
                ('placed', models.BooleanField(default=False, verbose_name='Placed')),
                ('inquiryItem', models.ForeignKey(blank=True, on_delete=django.db.models.deletion.CASCADE, related_name='purchasing_purchaseOrder_item_item', to='purchasing.inquiryitem')),
                ('purchaseOrder', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to='purchasing.purchaseorder')),
                ('sourceCompany', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='purchasing_purchase_order_part_source_company', to='source.company')),
                ('user', models.ForeignKey(blank=True, null=True, on_delete=models.SET(purchasing.models.get_sentinel_user), to=settings.AUTH_USER_MODEL)),
            ],
        ),
        migrations.AddConstraint(
            model_name='inquiryitem',
            constraint=models.UniqueConstraint(fields=('projectItem', 'inquiry'), name='unique_projectItem_inquiry'),
        ),
        migrations.AddConstraint(
            model_name='purchaseorderitem',
            constraint=models.UniqueConstraint(fields=('inquiryItem', 'purchaseOrder'), name='unique_inquiryItem_purchaseOrder'),
        ),
    ]
